---
title: Kali-Linux 渗透测试流程以及信息收集
date: 2021/9/16 23:31:50
tags:
  - Kali Linux
  - 教学文档
categories:
  - 网安知识
cover: https://tse3-mm.cn.bing.net/th/id/OIP-C.RI-jGvsfW8kRiYJdf5eqlwHaD4?pid=ImgDet&rs=1
copyright_author: Arvin
copyright_author_href: https://github.com/ArvinRoad
copyright_info: 此文章版權歸Arvin所有，如有轉載，請註明來自原作者
---

## Kali Linux 渗透测试流程以及信息收集

> **`注意本资料只适用学习研究，禁止进行非授权活动。请熟读网络安全法条规`**

`Lali Linux 系列第四篇 开篇说明`

> **一切从信息收集开始**

### 信息收集的作用

> 为什么要进行信息收集？
> 答：当我们要对一个目标进行渗透测试的时候为了防止无从下手，我们首先要获取目标的信息，掌握详细的情况，了解目标的`弱点`和`安全短板`，知己知彼，才能百战不殆。**在渗透测试时信息收集是我们的第一步，信息收集的全面性对于后期的渗透工作必为重要，甚至关联到能不能挖掘到漏洞**
---
### 信息收集什么
**信息收集举例小故事**：

> 哇！女神！！想去搭讪但是不敢！！！
>
> 她是谁？她是哪个班的？她微信是什么？
>
> 舔狗在寻找目标
>
> ---
>
> 姓名、微信号：目标人物
>
> 班级：目标环境
>
> 爱干的事情、喜好：目标事件
>
> ---
>
> 目标人物：电话、邮箱、密码、whois等
>
> 目标环境：域名、脚本语言、数据库、中间件、框架、cms、开放端口等
>
> 目标事件：历史漏洞、使用手册、使用说明、通告、公众号等
>
> **`总之就是收集一切对我们有帮助的信息`**

---

#### 常见的端口服务说明

- **数据库**：关系型数据库、NOSQL数据库

##### 关系型数据库

> Oracle 数据库 端口：1521
>
> pointbase 端口：9092
>
> DB2 端口：5000
>
> Oracle XDB （XML 数据库）端口：8080
>
> mySQL 端口：3306  管理员账户：root
>
> mssSQL 端口：1433 | 1434 管理员账户：sa

##### N0SQL 数据库

> MongoDB 端口：27017
>
> Redis 端口：6379
>
> memcached 端口：11211

`端口是可以修改的`

#### 服务

> 端口：21	FTP（文件传输）协议
>
> 端口：23	Telnet（远程登录）协议
>
> 端口：80 / 8080 / 3128 / 8081 / 9080	HTTP协议代理服务器常用端口号
>
> 端口：110	POP3 Post Office Protocol（E-mail）
>
> 端口：22	  SSH（安全登录）、SCP（文件传输）、端口重定向
>
> 端口：69	  TFTP（Trivial File Transfer Protocol）
>
> 端口：443	HTTPS（securely transferring web pages）
>
> 端口：3389   远程桌面协议（ROP）
>
> 端口：8080	Oracle XDB FTP 服务
>
> 端口：8080	JBOSS
>
> 端口：8080	TOMCAT
>
> 端口：7001	WebLogic
>
> 端口：9090	Webshpere 管理工具
>
> 端口：9080	Webshpere应用程序

---

#### 攻击路线

##### 文件共享

##### 远程连接

##### Web应用服务

##### 数据库服务

##### 邮件服务

##### 网络常见协议

##### 特殊服务端口

---


### 通过信息收集可以做什么

> **渗透测试的灵魂就是信息收集**
>
> - CMS 可能存在通杀漏洞，如果使用了CMS建站我们可以用通杀漏洞直接攻击
> - 这些危险端口开放了我们就可以尝试入侵。例如 `445 | 3306 | 22 | 1433 | 6379`可以尝试爆破或者是使用某些端口存在漏洞的服务。而且有可能一台服务器上面不同端口代表着不同的Web网站

### 信息收集报告编写

> **编写信息收集报告就是记录我们在信息收集时收集到的信息**
>
> 目标人物：电话、邮箱、密码、whois等
>
> 目标环境：域名、脚本语言、数据库、中间件、框架、CMS、开放端口等
>
> 目标事件：历史漏洞、使用手册、使用说明、通知、公众号、手机APP
>
> `具体文档可在网上查询`

---

**目标人物**

> whois
>
> 网站管理员
>
> 邮箱 | 反查
>
> 电话
>
> ···

**目标事件**

> 公众号
>
> 小程序
>
> 手机APP
>
> 通知
>
> 使用说明
>
> 使用手册
>
> 历史漏洞
>
> ···

**域名**

> 子域名
>
> 子域名的子域名
>
> 证书
>
> ···

**脚本语言**

> PHP
>
> JSP
>
> ASP
>
> ASPX
>
> ···

**数据库**

> MySQL
>
> MsSQL
>
> Oracle
>
> ···

**目录爬行**

> 目录遍历
>
> 目录文件
>
> ···

**目录浏览**（相当于爬虫）

> robots.txt	--- 爬虫协议，可能会泄露信息给我们
>
> 目录地址 | 登陆
>
> 框架所开发的路由
>
> ···

**源码泄露**

> .svn
>
> .git
>
> 备份文件
>
> ···

**中间件**

> IIS
>
> apache
>
> nginx
>
> ···

**服务器系统**

> windows
>
> linux
>
> ···

**DNS解析**

> 作为域名和IP地址相互映射的一个分布式数据库，DNS协议运行在UDP协议之上，使用端口号`53`，在 RFC 文档中 RFC 2181 对 DNS 有规范说明，RTC 2136 对 DNS 的动态更新进行说明 RFC 2308 对 DNS 查询的反向缓存进行说明（可以在漏洞人生查看信息）

> 阿里云
>
> 西部数码
>
> 传送域漏洞
>
> ···

**CMS**

> dedecms
>
> wordperss
>
> 

**框架**

> thinkphp
>
> Struts2
>
> ···

**开放端口**

> HTTP：80
>
> FTP：21
>
> MySQL：3306
>
> ···

**目标IP**

> 阿里云
>
> 历史解析
>
> 超级ping
>
> ···

**C 段地址**

> IP
>
> 域名
>
> ···

**IDC**

> 阿里云
>
> 某某互联
>
> ···

**WAF**

> 云盾
>
> 云锁
>
> 安全狗
>
> 安全卫士
>
> ···

**图床**

> 七牛云
>
> 阿里云
>
> ···

**安全措施**

> 自定义404、伪静态处理、流量防护等
>
> **CDN**
>
> - 百度云加速
> - 加速乐
>
> ···

**第三方资源引入**

> SDK
>
> JS
>
> ···

**旁站**

> 上面过程再来一遍



